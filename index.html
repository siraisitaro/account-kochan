<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Church Manager JS</title>
    <style>
        /* CSS: ã‚«ã‚¤ãƒ­ã‚½ãƒ•ãƒˆé¢¨ã®ãƒ¬ãƒˆãƒ­ãªã‚¹ã‚¿ã‚¤ãƒ« */
        body { background-color: #2c3e50; color: #ecf0f1; font-family: 'Courier New', Courier, monospace; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        #game-container { background-color: #34495e; border: 4px solid #f1c40f; padding: 20px; border-radius: 10px; width: 90%; max-width: 500px; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        .status-bar { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; background: #2c3e50; padding: 10px; border-radius: 5px; border: 2px solid #7f8c8d; }
        .log-window { background: #000; color: #2ecc71; height: 150px; overflow-y: auto; padding: 10px; font-size: 0.9em; border: 2px solid #7f8c8d; margin-bottom: 20px; }
        .button-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        button { background: #e67e22; border: none; color: white; padding: 15px; border-radius: 5px; cursor: pointer; font-weight: bold; border-bottom: 4px solid #d35400; }
        button:active { border-bottom: none; transform: translateY(4px); }
        button:disabled { background: #7f8c8d; border-bottom: none; cursor: not-allowed; }
        .theology-tag { font-size: 0.8em; color: #f1c40f; text-align: center; margin-bottom: 10px; }
    </style>
</head>
<body>

    <h1>â›ª Pro Church Manager</h1>
    <div class="theology-tag">Current Doctrine: Hardcore Theological Mode</div>

    <div id="game-container">
        <div class="status-bar">
            <div>ğŸ’° è³‡é‡‘: Â¥<span id="money">0</span></div>
            <div>ğŸ‘¥ ä¿¡å¾’: <span id="believers">0</span>/<span id="capacity">0</span></div>
            <div>ğŸ¤ èª¬æ•™åŠ›: <span id="skill">0</span></div>
            <div>âœ¨ é­…åŠ›: <span id="charm">0</span></div>
            <div>ğŸ“… ç¬¬ <span id="week">1</span> é€±</div>
        </div>

        <div id="log" class="log-window">æ•™ä¼šã¸ã‚ˆã†ã“ãï¼é–‹æ‹“ä¼é“ã‚’å§‹ã‚ã¾ã—ã‚‡ã†ã€‚</div>

        <div class="button-grid">
            <button onclick="holdService()">ç¤¼æ‹ã‚’è¡Œã†</button>
            <button onclick="invest('chair')">æ¤…å­è¿½åŠ (Â¥5ä¸‡)</button>
            <button onclick="invest('audio')">éŸ³éŸ¿æ”¹å–„(Â¥10ä¸‡)</button>
            <button onclick="invest('study')">ç¥å­¦ç ”ä¿®(Â¥3ä¸‡)</button>
        </div>
    </div>

    <script>
        // JavaScript: ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯
        let state = {
            money: 100000,
            believers: 5,
            capacity: 10,
            skill: 10,
            charm: 10,
            week: 1
        };

        function updateUI() {
            document.getElementById('money').innerText = state.money.toLocaleString();
            document.getElementById('believers').innerText = state.believers;
            document.getElementById('capacity').innerText = state.capacity;
            document.getElementById('skill').innerText = state.skill;
            document.getElementById('charm').innerText = state.charm;
            document.getElementById('week').innerText = state.week;
        }

        function addLog(msg) {
            const logWin = document.getElementById('log');
            logWin.innerHTML += `<div>> ${msg}</div>`;
            logWin.scrollTop = logWin.scrollHeight;
        }

        function holdService() {
            addLog(`ç¬¬${state.week}é€±ã®ç¤¼æ‹ã‚’é–‹å§‹...`);
            
            const attendees = Math.min(state.believers, state.capacity);
            const income = attendees * (1000 + (state.skill * 20));
            
            state.money += income;
            addLog(`${attendees}äººãŒå‡ºå¸­ã€‚Â¥${income.toLocaleString()}ã®çŒ®é‡‘ã‚’å—é ˜ã€‚`);

            if (state.believers > state.capacity) {
                addLog(`âš ï¸ ä¼šå ‚ãŒç‹­ãã€${state.believers - state.capacity}äººãŒå¸°ã‚Šã¾ã—ãŸ...`);
            }

            // æ–°è¦ç²å¾—åˆ¤å®š
            if (Math.random() * 100 < state.charm) {
                const newComers = Math.floor(Math.random() * 3) + 1;
                state.believers += newComers;
                addLog(`âœ¨ æ–°è¦ä¿¡å¾’ãŒ ${newComers}äºº åŠ ã‚ã‚Šã¾ã—ãŸï¼`);
            }

            state.week++;
            updateUI();
        }

        function invest(type) {
            if (type === 'chair' && state.money >= 50000) {
                state.money -= 50000;
                state.capacity += 5;
                addLog("ğŸ”¨ ãƒ‘ã‚¤ãƒ—æ¤…å­ã‚’å°å…¥ã€‚åå®¹äººæ•°UPï¼");
            } else if (type === 'audio' && state.money >= 100000) {
                state.money -= 100000;
                state.charm += 5;
                addLog("ğŸ¸ æœ€æ–°PAã‚·ã‚¹ãƒ†ãƒ ã‚’å°å…¥ã€‚é­…åŠ›UPï¼");
            } else if (type === 'study' && state.money >= 30000) {
                state.money -= 30000;
                state.skill += 3;
                addLog("ğŸ“– è–æ›¸ç ”ç©¶ã«æ²¡é ­ã€‚èª¬æ•™åŠ›UPï¼");
            } else {
                addLog("âŒ è³‡é‡‘ãŒè¶³ã‚Šã¾ã›ã‚“...");
            }
            updateUI();
        }

        // åˆæœŸè¡¨ç¤º
        updateUI();
    </script>
</body>
</html>
